<h1>San Franciscoi repuloter utas forgalma</h1>

import json
import pandas as pd
import matplotlib.pyplot as plt

# JSON beolvas√°sa
with open(r"C:\\Users\\Vand golf 4\\Downloads\\data\\San_Francisco.json", "r", encoding="utf-8") as f:
    data = json.load(f)

# √Åtalak√≠t√°s DataFrame-re
df = pd.DataFrame(data)

# D√°tum √°talak√≠t√°sa id≈ëform√°tumra
df["Activity Period Start Date"] = pd.to_datetime(df["Activity Period Start Date"])

# Sz≈±r√©s 1999. j√∫liusra
july_data = df[df["Activity Period Start Date"] == "1999-07-01"]

# Utassz√°m √∂sszegz√©se r√©gi√≥ szerint
grouped = july_data.groupby("GEO Region")["Passenger Count"].sum().sort_values(ascending=False)

# Diagram kirajzol√°sa
plt.figure(figsize=(10, 6))
grouped.plot(kind="bar", color="skyblue")
plt.title("Utasok sz√°ma r√©gi√≥nk√©nt - 1999. j√∫lius")
plt.xlabel("R√©gi√≥")
plt.ylabel("Utasok sz√°ma")
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()

import streamlit as st
import pandas as pd
import json
import plotly.express as px

st.set_page_config(page_title="San Francisco Utasstatisztik√°k", layout="wide")

st.title("‚úàÔ∏è San Francisco - Rep√ºl≈ëj√°rat utasstatisztik√°k")

# JSON bet√∂lt√©s
with open("San_Francisco.json", "r") as f:
    data = json.load(f)

df = pd.DataFrame(data)
df["Activity Period Start Date"] = pd.to_datetime(df["Activity Period Start Date"])

# D√°tum kiv√°laszt√°sa
all_dates = sorted(df["Activity Period Start Date"].dt.strftime("%Y-%m-%d").unique())
selected_date = st.selectbox("üìÖ V√°lassz h√≥napot", all_dates)
selected_date_parsed = pd.to_datetime(selected_date)
filtered_df = df[df["Activity Period Start Date"] == selected_date_parsed]

# R√©gi√≥k eloszl√°sa - k√∂rdiagram
st.subheader("üåç R√©gi√≥nk√©nti utassz√°m eloszl√°s")
region_sum = filtered_df.groupby("GEO Region")["Passenger Count"].sum().reset_index()
fig1 = px.pie(region_sum, names="GEO Region", values="Passenger Count", hole=0.4)
st.plotly_chart(fig1, use_container_width=True)

# Top 10 l√©git√°rsas√°g - oszlopdiagram
st.subheader("‚úàÔ∏è Top 10 l√©git√°rsas√°g (utasok sz√°ma)")
top_airlines = (
    filtered_df.groupby("Operating Airline")["Passenger Count"]
    .sum()
    .sort_values(ascending=False)
    .head(10)
    .reset_index()
)
fig2 = px.bar(top_airlines, x="Operating Airline", y="Passenger Count", color="Operating Airline", text="Passenger Count")
st.plotly_chart(fig2, use_container_width=True)

# R√©gi√≥nk√©nti trend (minden h√≥nap)
st.subheader("üìà R√©gi√≥nk√©nti trend (√∂sszes h√≥napra)")
time_series = df.groupby(["Activity Period Start Date", "GEO Region"])["Passenger Count"].sum().reset_index()
fig3 = px.line(time_series, x="Activity Period Start Date", y="Passenger Count", color="GEO Region", markers=True)
st.plotly_chart(fig3, use_container_width=True)

# T√°bl√°zat
st.subheader("üìã R√©szletes adatok a kiv√°lasztott h√≥napban")
st.dataframe(filtered_df.reset_index(drop=True))

√én joi, 24 apr. 2025 la 21:34, Rozalia Foris <forisrozalia884@gmail.com> a scris:
import json
import pandas as pd
import matplotlib.pyplot as plt

# JSON beolvas√°sa
with open("San_Francisco.json", "r") as f:
    data = json.load(f)

# √Åtalak√≠t√°s DataFrame-re
df = pd.DataFrame(data)

# D√°tum √°talak√≠t√°sa id≈ëform√°tumra
df["Activity Period Start Date"] = pd.to_datetime(df["Activity Period Start Date"])

# Sz≈±r√©s 1999. j√∫liusra
july_data = df[df["Activity Period Start Date"] == "1999-07-01"]

# Utassz√°m √∂sszegz√©se r√©gi√≥ szerint
grouped = july_data.groupby("GEO Region")["Passenger Count"].sum().sort_values(ascending=False)

# Diagram kirajzol√°sa
plt.figure(figsize=(10, 6))
grouped.plot(kind="bar", color="skyblue")
plt.title("Utasok sz√°ma r√©gi√≥nk√©nt - 1999. j√∫lius")
plt.xlabel("R√©gi√≥")
plt.ylabel("Utasok sz√°ma")
plt.xticks(rotation=45)
plt.tight_layout()
plt.show()
  
